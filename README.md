# dotnet-disassembly

Инструмент командной строки для извлечения **публичных интерфейсов** из .NET библиотек (NuGet пакетов). Анализирует решение (`.sln`) или проект (`.csproj`), находит используемые NuGet пакеты и генерирует C# файлы с типами, методами, свойствами и полями **без реализации** — только сигнатуры.

**Зачем:** анализ API зависимостей, документация по публичным интерфейсам, помощь AI-агентам в работе с актуальными версиями библиотек.

---

## Быстрый старт

- **Требования:** .NET 10.0+, пакеты должны быть восстановлены в NuGet кэше (`dotnet restore`).
- **Сборка:** `cd src/src/Disassembly.Tool` → `dotnet build -c Release`
- **Запуск:**
  ```bash
  dotnet run -- --solution <путь-к-решению.sln>
  # или
  dotnet run -- --project <путь-к-проекту.csproj>
  ```
- **Выход:** по умолчанию папка `./NugetDisassembly`; структура: `NugetDisassembly/<Пакет>/<Версия>/<Namespace>/...TypeName.cs`

---

## Документация

| Файл | Описание |
|------|----------|
| [**INSTRUCTIONS.md**](INSTRUCTIONS.md) | Подробная инструкция: параметры CLI (`--output`, `--exclude`, `--include`, `--include-default`), примеры, структура вывода, устранение неполадок |
| [**PLAN.md**](PLAN.md) | План реализации: цели, архитектура (Reflection + Roslyn), этапы, текущий статус, CLI опции |
| [**ARCHITECTURE.md**](ARCHITECTURE.md) | Архитектура: схема работы, компоненты (Solution Analyzer, NuGet Resolver, Assembly Reflector, Code Generator и др.), поток данных |

---

## Важные моменты

- **Вход:** один из `--solution` или `--project` (оба сразу указывать нельзя).
- **Фильтрация пакетов:** по умолчанию исключаются стандартные Microsoft BCL (System.Linq, System.Collections и т.д.); `--include` — только указанные пакеты, `--exclude` — исключить пакеты, `--include-default` — не исключать BCL.
- **Извлекается:** классы, интерфейсы, структуры, enum, делегаты; методы, свойства, поля, события, конструкторы, индексаторы; только `public` и `protected`; generic, атрибуты, extension-методы. Реализация методов не извлекается.
- **Ошибки:** при сбое одного пакета инструмент пишет предупреждение и продолжает; при критической ошибке (например, не найден .sln) — код возврата 1.

Подробности — в [INSTRUCTIONS.md](INSTRUCTIONS.md) и [PLAN.md](PLAN.md).
